<!DOCTYPE html> 
<html lang="fr"> 
    <head> 
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>Contact — L&J Web | Support & Devis</title> 
        <meta name="description" content="Contactez L&J Web pour un devis, support ou informations de paiement. Envoyez un message au support ou utilisez notre formulaire de contact.">
        <meta name="keywords" content="contact agence web, support L&J Web, devis site web, contacter support">
        <link rel="icon" type="image/png" href="../Logo/L&J_WEB_Logo.png"/> 
        <link rel="stylesheet" href="../css/contact.css"> 
        <link rel="stylesheet" href="../css/responsive.css">
        <meta name="author" content="L&J Web">
        <meta name="contact" content="support@ljweb.com">
        <meta property="og:site_name" content="L&J Web">
        <meta name="theme-color" content="#0079a8">
    </head> 
    <body> 
        <header id="en-tete"> 
            <!-- navbar -->
            <img src="../Logo/L&J_WEB_Logo.png" id="logo" alt="L&J logo"> 
            <a href="#navbar" class="menu-toggle" aria-label="Ouvrir le menu">☰ Menu</a>
            <nav id="navbar"> 
                <a href="../src/index.html">Accueil</a> 
                <a href="services.html">Services</a> 
                <a href="paiement.html">Mode de paiement</a> 
                <a href="contact.html">Contact</a> 
            </nav> 
        </header>

        <!-- con -->
        <section id="con"> 
            <h1>Contact</h1> 
            <p>Contactez notre <strong>support</strong> pour devis, accompagnement ou questions techniques.</p> 
            <p id="pub">L&J Web - Création et refonte de sites web</p>

            <span class="dot d1"></span>
            <span class="dot d2"></span>
            <span class="dot d3"></span>
            <span class="dot d4"></span>
        </section>

        <main>
            <section class="contact-section">
                <div class="contact-grid">
                    <aside class="contact-info">
                        <h2>Contactez le support</h2>
                        <p>Pour toute demande, envoyez un e‑mail à :</p>
                        <p><strong><a href="mailto:support@lj-web.com">support@lj-web.com</a></strong></p>
                        <p>Téléphone : <a href="tel:+41786172132">+41 78 617 21 32</a></p>
                        <p>Horaires : <strong>6j/7 • 8h–20h</strong></p>

                        <h3>Moyens de paiement</h3>
                        <p>Nous acceptons <strong>Twint</strong> et <strong>virement IBAN</strong>. Pour accélérer le traitement, joignez la preuve de paiement à votre e‑mail.</p>
                    </aside>

                    <div class="contact-form-wrap">
                        <h2>Envoyer un message au support</h2>
                        <form class="contact-form" onsubmit="return handleContactSubmit(event)" novalidate>
                            <label for="name">Nom *</label>
                            <input id="name" name="Nom" type="text" required>

                            <label for="email">E‑mail *</label>
                            <input id="email" name="Email" type="email" required>
                            <div class="error" id="email-error" aria-live="polite"></div>

                            <label for="subject">Sujet *</label>
                            <input id="subject" name="Sujet" type="text" required>
                            <div class="error" id="subject-error" aria-live="polite"></div>

                            <label for="message">Message *</label>
                            <textarea id="message" name="Message" rows="6" required></textarea>
                            <div class="error" id="message-error" aria-live="polite"></div>

                            <div class="form-actions">
                                <button type="submit">Envoyer au support</button>
                                <button type="reset" class="btn-secondary">Effacer</button>
                            </div>
                        </form>

                        <p class="form-note"><strong>Remarque :</strong> le bouton "Envoyer" ouvrira votre client mail (mailto).</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer id="cp">
                <p>&copy; 2025 L&J Web. Tous droits réservés.</p>
                <p>L&J Web - Création et refonte de sites web</p>
        </footer>

        <script>
        function handleContactSubmit(e) {
            e.preventDefault();
            // reset errors
            ['email','subject','message'].forEach(id => {
                const el = document.getElementById(id + '-error');
                if (el) el.textContent = '';
            });

            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const subject = document.getElementById('subject').value.trim();
            const message = document.getElementById('message').value.trim();

            const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            let ok = true;
            if (!emailRe.test(email)) {
                document.getElementById('email-error').textContent = 'Veuillez saisir une adresse e‑mail valide.';
                ok = false;
            }
            if (!subject) {
                document.getElementById('subject-error').textContent = 'Le sujet est requis.';
                ok = false;
            }
            if (!message) {
                document.getElementById('message-error').textContent = 'Le message ne peut pas être vide.';
                ok = false;
            }
            if (!ok) return false;

            const to = 'support@lj-web.com'; // ne pas encoder l'adresse
            const mailSubject = subject;
            const body = [
                'Nom: ' + name,
                'E-mail: ' + email,
                '',
                message
            ].join('\n');

            const mailto = 'mailto:' + to
                + '?subject=' + encodeURIComponent(mailSubject)
                + '&body=' + encodeURIComponent(body);

            // première tentative : clic sur ancre temporaire (meilleur support dans certains navigateurs)
            const a = document.createElement('a');
            a.href = mailto;
            a.style.display = 'none';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);

            // fallback : forcer location après un court délai
            setTimeout(() => {
                try { window.location.href = mailto; } catch(_) {}
            }, 300);

            return false;
        }
        </script>
    </body>
</html>